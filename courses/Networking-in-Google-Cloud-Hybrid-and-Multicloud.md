---
id: 1145
name: 'Networking in Google Cloud: Hybrid and Multicloud'
datePublished: 2025-01-15
topics:
- Network Design
- Cloud Infrastructure
- Google Cloud Services
type: Course
url: https://www.cloudskillsboost.google/course_templates/1145
---

# [Networking in Google Cloud: Hybrid and Multicloud](https://www.cloudskillsboost.google/course_templates/1145)

**Description:**


Welcome to the sixth course in our networking and Google Cloud series hybrid and multicloud. The first module will walk you through various Cloud connectivity options with a deep dive into Cloud interconnect exploring its different types and functionalities. In the second module, we'll cover cloudvpn discussing its implementation High availability VPN topologies and the network connectivity Center or NCC for streamline management. By the end of this course, you will be able to explain the different connectivity options available to extend your on premises and other Cloud networks to Google cloud and analyze a suitability of different Google Cloud hybrid and multicloud connectivity services for specific use cases. Let's get started.

**Objectives:**

- Explain the different connectivity options available to extend your on-premises and other cloud networks to Google Cloud.
- Analyze the suitability of different Google Cloud hybrid and multi-cloud connectivity services for specific use cases.
- Implement a hybrid or multi-cloud network using Google Cloud services.

## Welcome to Networking in Google Cloud

Welcome to the Networking in Google Cloud: Hybrid and Multicloud course.

### Video - [Course introduction](https://www.cloudskillsboost.google/course_templates/1145/video/520703)

- [YouTube: Course introduction](https://www.youtube.com/watch?v=07spiNCABTY)

Welcome to the sixth course in our Networking and Google Cloud Series. Hybrid and Multi-Cloud. The first module will walk you through various Cloud connectivity options, with a deep dive into Cloud Interconnect, exploring its different types and functionalities. In the second module we'll cover Cloud VPN, discussing its implementation, high availability VPN typologies, and the Network Connectivity Center, or NCC, for streamlined management. By the end of this course, you will be able to explain the different connectivity options available to extend your on-premises and other Cloud networks to Google Cloud, and analyze the suitability of different Google Cloud hybrid and multi-Cloud connectivity services for specific use cases. Let's get started.

## Connectivity Options

This module provides an introduction to various products that enables connectivity from your on-premises network or from another cloud provider to your VPC network.

### Video - [Introduction](https://www.cloudskillsboost.google/course_templates/1145/video/520704)

- [YouTube: Introduction](https://www.youtube.com/watch?v=AS_vzw1Na68)

Welcome to module 1, connectivity options. In this module, we begin by providing a brief overview of cloud interconnect and cloud VPN. We then proceed with the discussion of the three types of cloud interconnect, Dedicated Interconnect, Partner Interconnect, and Cross-Cloud Interconnect. You will learn about how they can be useful and also how to set them up. At the end of the module, there's a short quiz to check your understanding of what you just learned.

### Video - [Connectivity options](https://www.cloudskillsboost.google/course_templates/1145/video/520705)

- [YouTube: Connectivity options](https://www.youtube.com/watch?v=6HyHOxlm6xk)

Cloud Interconnect provides a fast connection to Google's network, Google offers two different cloud interconnects products, choose a product based on your situation and your needs. When you can physically connect to the Google network at a colocation facility, use Dedicated Interconnect. When you cannot connect to the Google network at a colocation facility, but can connect through a service provider, use Partner Interconnected. When you want to connect to other cloud providers directly, use Cross-Cloud Interconnect. Google Cloud also offers Cloud VPN, Cloud VPN can be useful when you have lower bandwidth needs, or when you must encrypt data in transit. In this module, you will learn more about the three types of cloud interconnect. Let's compare these connection options, all these options provide internal IP address access, between resources in your on premises network, and in your VPC network. The main differences are the connection capacity and the requirements, for using a service. The IPsec VPN tunnels, that cloud VPN offers, have a capacity of 1.5 gigabits per second, to 3 gigabits per second, per tunnel. The tunnels connect to a VPN device in your on premises network. The 1.5 gigabits per second capacity, applies to traffic that traverses the public internet, and the three gigabits per second capacity, applies to traffic that is traversing a direct peering link. If you want to scale this capacity, you can configure multiple tunnels. Dedicated interconnect has a capacity of 10 gigabits per second, or 100 gigabits per second, per link, and requires you to have a connection, in a Google supported colocation facility. You can have up to eight links to achieve multiples of 10 gigabits per second, or up to two links to achieve multiples of 200 gigabits per second, but 10 gigabits per second is the minimum capacity. Partner interconnect has a capacity of 50 megabits per second, to 50 gigabits per second, per connection, and requirements depend on the service provider. Dedicated Interconnect, and Partner Interconnect, do not encrypt data in transit. Secure data in transit at the application layer, using TL's for example. Cross-Cloud Interconnect enables you to establish high bandwidth dedicated connectivity between Google Cloud and another cloud service provider. Cross-Cloud Interconnect connections are available in two sizes,10 gigabits per second, or 100 gigabits per second.

### Video - [Dedicated Interconnect](https://www.cloudskillsboost.google/course_templates/1145/video/520706)

- [YouTube: Dedicated Interconnect](https://www.youtube.com/watch?v=eztIqjCu9es)

Next, let's discuss dedicated interconnect. Sam, a network engineer at Simbel Corporation, is tasked with migrating mission critical workloads to Google Cloud. Sam won't migrate the entire on prem to Google, and it makes sense to migrate a portion of the workload. These workloads require the highest levels of performance and reliability with minimal latency and jitter. Currently, Sam is considering using the public Internet for the connection, but concerns about security and reliability remain. A VPN connection over the Internet is not the top choice, as the public Internet is not most performant and overhead of VPN on packets can impact performance. Sam needs a solution that guarantees consistent high performance connectivity with fiber ports between s one's on premises network and Google Cloud. The solution must offer dedicated bandwidth, ensuring that mission critical workloads have the resources they need to function flawlessly. Additionally, Sam requires the solution to be highly secure, with the option to enable robust data encryption and isolation from public Internet traffic. Thus, a dedicated interconnect option checks all the requirements. Dedicated interconnect provides direct physical connections between your on premises network and the Google network. Dedicated interconnect enables you to transfer large amounts of data between networks, which can be more cost effective than purchasing additional bandwidth over the public Internet. Upon establishing a VLAN attachment, it is linked with a cloud router. This cloud router initiates a BGP session for both the VLAN attachment and its corresponding on premises peer router. Through this BGP session, the cloud router receives routes advertised by the on premises router. These routes are then integrated into your VPC network as custom dynamic routes. Simultaneously, the cloud router advertises routes for Google Cloud resources to the on premises peer router, ensuring bi directional route exchange. In order to provide redundancy, create at least four interconnect connections, two in each metropolitan areas. Placing a dedicated interconnect connection in more than one domain in a metropolitan area provides redundancy. The domains provide isolation during scheduled maintenance, which means that two domains in the same metropolitan area are not down for maintenance at the same time. If you have a dedicated interconnect connection defined in each of the two domains, scheduled maintenance can only affect a single connection at any given time. A minimum of two Cloud routers should be deployed across at least two separate Google Cloud regions. This is essential even if all your virtual machine or VM instances are located within a single region. In the event of a region wide disruption, Google Cloud can redirect traffic through the unaffected region to ensure continued access to your VMs. Each Cloud router must be linked to a pair of dedicated interconnect connections situated within the same metropolitan area. In the example shown, the network configuration features four dedicated interconnect connections distributed across two separate metropolitan areas and distinct edge availability domains. Each of these regions houses a cloud router within the VPC1 network, with each router maintaining its own independent border gateway protocol, or BGP session. For a complete list of co location facilities and edge availability zones, see all colocation facilities in the Google Cloud documentation. Note that the documentation also refers to an edge availability zone as an interconnect location name. Now, to create a dedicated interconnect connection, follow these order your connection. You can do this within Google Cloud. Next, Google sends you a LOA.CFA, also known as a letter of authorization and connecting facility assignment. The LOA.CFA identifies the connection ports that Google has assigned for your dedicated interconnect connection. The LOA.CFA also grants permission for a vendor in a colocation facility to connect to them. Send LOA.CFAs to the colocation facility so they can complete your connection setup. Your vendor will let you know when the setup is complete. Test the connection, Google sends you automated emails with configuration information for two different tests. First, Google sends an IP address configuration to test light levels on every circuit in a dedicated interconnect connection. After those tests pass, Google sends a final IP address configuration to test the IP connectivity of each connection. Apply these configurations to your Cloud routers so that Google can confirm connectivity. After all tests have passed, your dedicated interconnect connection is ready to use. Create VLAN attachments and establish BGP sessions. You can do this using the Google Cloud console. Configure the on premises routers to establish a BGP session with your cloud router. To configure your on premises router, use the VLAN ID interface, IP address and peering IP address provided by the VLAN attachment. Next, let's talk about your connection bandwidth. You can purchase bandwidth as one or more circuits. Each circuit can be either 10 gigabits per second or 100 gigabits per second, but not both, as it is not possible to have different types of circuits in the same connection. A connection can have a maximum of 810 gigabits per second circuits or 2100 gigabits per second circuits. Therefore, the maximum connection capacity is either 80 gigabits per second or 200 gigabits per second, depending on which type of circuit you choose.

### Video - [Partner Interconnect](https://www.cloudskillsboost.google/course_templates/1145/video/520707)

- [YouTube: Partner Interconnect](https://www.youtube.com/watch?v=XDNQbmsrNcs)

Next, let's discuss Partner Interconnect starting with the use case. Ken, a network engineer at Symbol Corporation, is tasked with connecting symbol's geographically remote data center to Google Cloud. However, the data center's location doesn't have access to a Dedicated Interconnect colocation facility, making a direct connection impossible. Ken requires a solution that offers high bandwidth, low latency, and dedicated connectivity to Google Cloud, even without a nearby colocation facility. Ken also needs a setup that uses the partners underlying infrastructure to connect to Google Cloud. Additionally, the solution needs to be secure and reliable, providing robust data protection and ensuring seamless operations. Thus, Partner Interconnect seems to be an excellent fit. Partner Interconnect is similar to Dedicated Interconnect. Dedicated Interconnect and Partner Interconnect have technical feature parity. However, the physical connection for Dedicated Interconnect is made through a supported service provider. Let's look at a few more differences. Partner Interconnect provides connectivity between your on premises network and your VPC network through a supported service provider. If your data center is in a physical location that can't reach a Dedicated Interconnect colocation facility, Partner Interconnect is a good option. If your data needs don't warrant using Dedicated Interconnect, consider using Partner Interconnect. Work with a supported service provider to connect your VPC and on premises networks. Consider placing the Partner Interconnect connection in multiple edge availability domains for redundancy. For a full list of service providers, see supported service providers in the Google Cloud documentation. To create a partner interconnect connection, follow these order your connection from a supported service provider. The service provider will then provide the connectivity needed to create a VLAN attachment. Create a VLAN attachment, which creates a pairing key. The pairing key is unique and lets a service provider identify and connect to the associated cloud router. The service provider uses this key to finish configuring your VLAN attachment. Request a connection from your service provider. Submit the pairing key and other connection details, such as the connection capacity and location. Your service provider configures your connection. They must confirm that they can serve your requested capacity. When the configuration is complete, you'll receive an email. In the VLAN attachment activate your connection. After the connection is activated, it can start passing traffic. Configure the on-premises routers to establish a BGP session with your cloud router. To configure your on premises routers, use the VLAN id interface IP address and peering IP address provided by the VLAN attachment for layer two connections, traffic passes through the service provider network to reach the VPC network or on premises network. BGP is configured between the on-premises router and a cloud router in the VPC network as shown in the graphic. For layer two connections, you must configure and establish a BGP session between your cloud routers and on premises routers. When you configure cloud router, you configure VLAN attachments. Each VLAN attachment is a logical connection between your on premises network and a single region in your VPC network. When creating a VLAN attachment, specify a cloud router in the region that contains the subnets that you want to reach. The VLAN attachment automatically allocates a VLAN ID and BGP peering IP address. Use that information to configure your on-premises router and establish a BGP session with your cloud router. For partner interconnect, the VLAN attachment uses a connection that your service provider sets up and manages. The service provider completes the circuit. For layer three connections, traffic is passed to the service provider network. Their network then routes a traffic to the correct destination either to the on-premises network or to the VPC network. Connectivity between the on premises network and the service provider network depends on the service provider. For example, the service provider might request that you establish a BGP session with them or configure a static default route to their network. For Layer 3 connections, your service provider establishes a BGP session between your cloud routers and their on-premises routers for each VLAN attachment. You don't need to configure BGP on your local router, Google and your service provider automatically set the correct BGP configurations. Dedicated Interconnect and Partner Interconnect have technical feature parity. The biggest difference is where you interconnect from a Google colocation facility or from a partner facility. However, there are some other points to consider. Use Partner Interconnect when you cannot physically connect from a colocation facility where Google has presence, but can use a partner colocation facility. Partner Interconnect can be procured quickly. The physical configuration already exists at the service provider, so there's less infrastructure to set up. Partner Interconnect also is sufficient to support bandwidth needs less than 50 gigabits per second. A partner Interconnect connection can be scaled based on the number and capacity of your VLAN attachments. Thus, the smallest connection is 50 megabits per second. If you need less than 50 megabits per second, consider using cloud VPN.

### Video - [Cross-Cloud Interconnect](https://www.cloudskillsboost.google/course_templates/1145/video/520708)

- [YouTube: Cross-Cloud Interconnect](https://www.youtube.com/watch?v=vjBVFpuJ2Tw)

In this module, you will receive a brief overview of Cloud Interconnect and Cloud VPN. You then learn about the three types of cloud inerconnect, Dedicated Interconnect, Partner Interconnect and Cross-Cloud Interconnect. You also learned about how they can be useful and also how to set them up. At the end of the module, there's a short quiz to check your understanding of what you learned. Rob, a network engineer at Simbel Corporation, is tasked with managing the hybrid cloud environment for Simble, which spans Google Cloud and Microsoft Azure. As Simble's workload grows, Rob needs a solution to seamlessly connect the two cloud platforms and ensure consistent performance and security across both environments. Cross-Cloud Interconnect is an excellent fit as it offers dedicated high bandwidth connectivity between Google Cloud and Microsoft Azure. This would enable them to efficiently transfer data between the two platforms and eliminate the latency and bandwidth limitations associated with public Internet connections. Additionally, Rob requires a solution to be secure and reliable, providing strong data encryption and redundancy to guarantee business continuity. With Cross-Cloud Interconnect Google provisions a dedicated physical connection between the Google network and that of another supported cloud service provider. Google currently supports Amazon Web Services, Microsoft Azure, Oracle Cloud infrastructure, and Alibaba Cloud for use with Cross-Cloud interconnect. You can use this connection to peer your Google Virtual private cloud or VPC network with your network that's hosted by the cloud service provider. You identify supported locations where you want Google to place your connections. Then you purchase primary and redundant Cross-Cloud Interconnect ports. You also buy primary and redundant ports from your cloud service provider. After provisioning the connection, Google supports the connection up to the point where it reaches the network of your other cloud service provider. Note that Google does not guarantee uptime from the other cloud service provider and cannot create a support ticket on your behalf. Cross-Cloud Interconnect supports the adoption of an integrated multicloud strategy. Adopting a multicloud architecture lets you avoid being locked in with a single vendor, store data in one cloud while hosting business logic in another. Avoid downtime if one cloud has an outage. Use a second cloud for disaster recovery and maximize business insights by analyzing data in multiple clouds. Without Cross-Cloud Interconnect, the options for setting up connectivity are limited and all are relatively complex. When you use Cross-Cloud Interconnec, you don't have to deploy your own hardware and you eliminate the need to work with third parties. You can use Cross-Cloud Interconnect as part of a site -o-site data transfer strategy. Site-to-site data transfer is a feature of network connectivity center that lets you use the Google network as a wide area network. Network Connectivity center is discussed later. The cloud interconnect SLA requires you to have two connections at minimum, each in a different edge availability domain of a metropolitan area. This approach gives you 99.9% availability. In order to achieve high availability for critical applications, you should configure two pairs of connections. Each pair must be in a different metropolitan area. Within each metropolitan area, you must use two different edge availability domains. This approach gives you 99.99% availability. Cross-Cloud Interconnect connections are available in 210 gigabits per second or 100 gigabits per second. For more information, see Cross-Cloud Interconnect overview in the Google Cloud documentation. MACsec for Cloud Interconnect helps you secure traffic on Cloud Interconnect connections, specifically between your on premises router and Google's edge routers. MACsec encrypts traffic on dedicated interconnect between Google's peering edge router and an on premises router. Partner Interconnect between Google's peering edge router and the service provider's peering edge router. Cross Cloud Interconnect between Google's peering edge router and a router run by remote cloud. MACsec for cloud Interconnect doesn't provide encryption in transit within Google. For stronger security, we recommend that you use MACsec with other network security protocols such as IPsec and TLS. Let's take a look at an example of how you can use Gemini to help you connect the network you created to your on premises network. You can explore your options by asking Gemini, which should I use, Cloud VPN or Cloud Interconnect? Please provide details supporting the use of each according to their respective strengths. Another useful prompt is list the steps to generate a report on the past week's performance of my cloud interconnect link, including bandwidth utilization, latency, and packet loss. Here's the response to the first prompt. Gemini provides a comparison table that covers the various feature differences between Cloud VPN and Cloud Interconnect.

### Video - [Debrief](https://www.cloudskillsboost.google/course_templates/1145/video/520709)

- [YouTube: Debrief](https://www.youtube.com/watch?v=av2IvDvWwu4)

In this module we began by comparing the available options for hybrid connectivity with your Google Cloud network, Direct Interconnect, Partner Interconnect, Cross-Cloud Interconnect, and Cloud VPN. You learned how to set up Direct Interconnect, Partner Interconnect, and Cross-Cloud Interconnect, as well as the conditions to consider during the setup.

### Quiz - [Quiz](https://www.cloudskillsboost.google/course_templates/1145/quizzes/520710)

#### Quiz 1.

> [!important]
> **Your company is located in a city where Google Cloud does not have a Dedicated Interconnect location, but you need a private connection to your Google Cloud Virtual Private Cloud (VPC).  Which Cloud Interconnect option is most suitable for this scenario?**
>
> - [ ] Dedicated Interconnect
> - [ ] Carrier Peering
> - [ ] Network Connectivity Center
> - [ ] Partner Interconnect

#### Quiz 2.

> [!important]
> **Which Google Cloud Interconnect option requires the customer to provide their own routing equipment and establish a Border Gateway Protocol (BGP) session with Google's edge network?**
>
> - [ ] Partner Interconnect
> - [ ] Network Connectivity Center
> - [ ] Dedicated Interconnect
> - [ ] Cross-Cloud Interconnect

## Cloud VPN

This module guides you through establishing secure connections between your on-premises network or another cloud environment and Google Cloud using Cloud VPN. Additionally, we'll provide a hands-on lab on configuring Network Connectivity Center (NCC) as a central transit hub.

### Video - [Introduction](https://www.cloudskillsboost.google/course_templates/1145/video/520711)

- [YouTube: Introduction](https://www.youtube.com/watch?v=1mCFikGuOWg)

Welcome to the Cloud VPN module. Let's explore Cloud VPN, a service that enables secure encryptic connections between your on-premises networks and Google Cloud. We'll explore what Cloud VPN is, how it works, and the various use cases it supports.

### Video - [Cloud VPN Overview](https://www.cloudskillsboost.google/course_templates/1145/video/520712)

- [YouTube: Cloud VPN Overview](https://www.youtube.com/watch?v=Xe-YluqHAtQ)

Use Cloud VPN when you don't need the connection speed of Cloud Interconnect. Cloud VPN is cheaper and easier to set up than Cloud Interconnect. Thus, Cloud VPN is useful for low-volume or low-bandwidth data connections. When you prefer the economics of an IPSec tunnel over the Internet, and when your network infrastructure cannot support dedicated fiber connections to Google Cloud, choose Cloud VPN. You can also use Cloud VPN to encrypt data in transit. With Cloud VPN, you can selectively advertise routes between VPC networks. In contrast, when you set a peering between two VPC networks, all the subnet routes are advertised. Cloud VPN securely connects your peer network to your virtual private cloud or VPC network through IPSec tunnels. The data is encrypted as it passes through the tunnels. The traffic traveling between the two networks is encrypted by one VPN gateway and then decrypted by the other VPN gateway. This action protects your data as it travels over the Internet. There are two types of Cloud VPN: high availability VPN or HA, and classic VPN. Google Cloud VPN primarily offers HA VPN; the recommended solution for dynamic routing and enhanced reliability. Classic VPN is available for specific use cases requiring static routing. Next, let's discuss both Cloud VPN products. Jack is responsible for optimizing the company's cloud infrastructure, and he's currently focused on updating their networking strategy within Google Cloud. Symbol Corporation has been relying on classic VPNs to connect their on-premises data center to Google Cloud, but they've experienced occasional connectivity issues. Now they are looking to enhance our network reliability and performance. Considering the critical nature of Symbols operations, the switch to high-availability VPNs and Google Cloud will be suitable. The company's applications demand a highly available, secure connection to Cloud services and a simplified setup. HA VPNs could provide the necessary redundancy and failover capabilities to ensure uninterrupted connectivity. The advantages of HA VPNs over classic VPNs include improved availability, automatic failover, and better performance. The switch to HA VPN will meet the networking requirements and contribute to a more resilient and efficient infrastructure.

### Video - [HA VPN Topologies](https://www.cloudskillsboost.google/course_templates/1145/video/520713)

- [YouTube: HA VPN Topologies](https://www.youtube.com/watch?v=Xzagps33zXM)

Let us next cover some of the HA VPN topologies. HA VPN supports site-to-site VPN for different configuration topologies. These topologies an HA VPN gateway to peer VPN devices, an HA VPN gateway to an Amazon Web Services, or AWS, virtual private gateway, two HA VPN gateways connected to each other, and HA VPN to Compute Engine VM instances. Let's look at each of these topologies. HA VPN has three typical peer gateway configurations, an HA VPN gateway to two separate peer VPN devices, each with its own IP address, one peer VPN device that uses two separate IP addresses, and one peer VPN device that uses one IP address. Let's walk through an example. In this topology, one HA VPN gateway connects to two peer devices. Here we see the HA VPN gateway and two VPN tunnels that connect to the peer devices. Next, we'll look at the peer devices in the on-premises network. Here you can see the on-premises network and the tunnels that come from the HA VPN gateway. Each peer device has one interface and one external IP address. The HA VPN gateway uses two tunnels, one tunnel to each peer device. If your peer side gateway is hardware based, having a second peer side gateway provides redundancy and failover on that side of the connection. In Google Cloud, the redundancy type for this configuration takes the value to IPS redundancy. The example shown here provides 99.99% availability. When configuring an HA VPN external VPN gateway to AWS, you can use either a transit gateway or virtual private gateway. Only the transit gateway supports equal cost multipath or ECMP routing. When enabled, ECMP distributes traffic equally across active tunnels. Let's walk through an example. In this topology, you configure three major gateway components. An HA VPN gateway in Google Cloud with two interfaces, two AWS virtual private gateways that connect to your HA VPN gateway, and an external VPN gateway resource in Google Cloud that represents your AWS virtual private gateway. This resource provides information to Google Cloud about your AWS gateway. Here you can see the Google Cloud components and their connections through the Internet to the AWS components. The AWS components in this topology are shown here, along with their connections to the HA VPN gateway and cloud router in Google Cloud. The supported AWS configuration uses a total of four tunnels. Two tunnels from one AWS virtual private gateway to one interface of the HA VPN gateway. And two tunnels from the other AWS virtual private gateway to the other interface of the HA VPN gateway. For more information regarding using HA VPN to connect to a Microsoft Azure gateway, see using cloud VPN with Microsoft Azure VPN gateway. You can connect two Google Cloud VPC networks together by using an HA VPN gateway in each network. Let's walk through a sample topology. Like the other two samples that you've seen, it's divided into two parts. Here you see a Google Cloud project with a VPC network called network-a. There's an HA VPN gateway and a cloud router instance that connects to VPC network-b, which is not visible here. Each ha VPN gateway has two interfaces. You connect interface 0 on the HA VPN gateway in network-a to interface 0 on the HA VPN in network-b. You do the same for the interface 1 connecting from the HA VPN gateway in network-a to the HA VPN gateway in network-b. Next, let's look at network-b. Here you see the Google Cloud project that contains network-b. You see all the connections from the HA VPN gateway that link to network-a. When you deploy HA VPN over Cloud Interconnect, you create two operational tiers. The cloud interconnect tier, which includes the VLAN attachments and the cloud router for Cloud Interconnect. The HA VPN tier, which includes the HA VPN gateways and the tunnels, and the cloud router for HA VPN. Each tier requires its own Cloud Router. The Cloud Router for Cloud Interconnect is used exclusively to exchange VPN gateway prefixes between the VLAN attachments. This Cloud Router is used only by the VLAN attachments of the Cloud Interconnect tier. It cannot be used in the HA VPN tier. The Cloud Router for HA VPN exchanges prefixes between your VPC network and your on-premises network. You configure the cloud router for HA VPN and its BGP sessions in the same way you would for regular HA VPN deployment. You build the HA VPN tier on top of the Cloud Interconnect tier. Therefore, the HA VPN tier requires that the Cloud Interconnect tier, based on either dedicated interconnect or partner interconnect, is properly configured and operational. The diagram shown here depicts an HA VPN over Cloud Interconnect deployment. To learn more about configuration, see configure HA VPN over Cloud Interconnect. HA VPN allows you to establish a secure connection between an HA VPN gateway and compute engine VMs. Functioning as network virtual appliances running IPSEC VPN. The VM instances can be deployed within a single zone or distributed across multiple zones. This configuration supports connecting an HA VPN gateway to two compute engine VMs, each residing in separate VPCs and zones with unique external IP addresses. The VMs act as VPN peer devices. Shown here, the HA VPN gateway is situated in a virtual private cloud network named network-a, while the two VMs are located in network-b. Both VPC networks are within the us-central1 region. The HA VPN gateway in network a is configured to use the external IP addresses of each VM in network-b. It is also possible to have the HA VPN gateway n-VMs in different regions. This topology is recommended for enhanced availability. HA VPN also provides 99.99% service availability. Use HA VPN for BGP routing and to support multiple tunnels. When you create an HA VPN gateway, Google Cloud automatically chooses two external IPV 4 addresses. One for each of its fixed number of two interfaces. Each IPV 4 address is automatically chosen from a unique address pool to support high availability. VPN tunnels connected to HA VPN gateways must use dynamic BGP routing. Use an active passive configuration for consistent bandwidth experience. Active/active configurations may offer a less consistent experience. Unless combined traffic for both tunnels is within single tunnel capacity, failure can cause the available bandwidth to be cut in half. You can also use some useful prompts, focusing specifically on how Gemini, like AI could assist with cloud VPN tasks and analysis. One such example is how can I connect a VPC network in Google Cloud to an on-premises private network? Gemini will provide the two options available on Google Cloud, Cloud VPN and Cloud Interconnect.

### Video - [Influence best path selection](https://www.cloudskillsboost.google/course_templates/1145/video/520714)

- [YouTube: Influence best path selection](https://www.youtube.com/watch?v=p-g6qtAWbPI)

Let us next explore how to influence the best path selection. When a Cloud router advertises prefixes to a BGP pier, it includes a priority for each prefix in the advertisement. The advertisement is the BGP message, and it includes a root priority. The root priority is stored in the BGP multi-exit discriminator or MED attribute, which influences root selection. You can change the advertised root priority value on each Cloud VPN tunnel or VLAN attachment. This value is then assigned to the BGP MED attribute. The MED value affects the BGP best path selection. By changing the advertised root priority, you influence the best path selection. For more information about other factors that influence the best path selection, see the BGP protocol standard on the ietf.org website or a networking tutorial. The advertised root priority value applies to all prefixes advertised by the BGP session associated with the Cloud VPN tunnel or VLAN attachment. Base priorities are whole numbers from 0-65535. The highest possible base priority is zero. In other words, a lower number indicates a higher priority. The default base priority is 100. If you don't specify a base priority, the default priority is used. Next, let's talk about the region to region costs that can be added to the base priority to set the MED attribute on the BGP session. This cost only applies when the VPC is in global dynamic routing mode. Region to region costs are from 201 through 9,999. The value depends on the distance, latency, and other factors between two regions. Google generates the region to region cost values and you can't modify them. Next, let's look at a sample topology to see how this works. In the graphic, you see an example of region to region costs that Google calculates. Regions that are closer have a lower region cost for traffic that flows between them. For example, the regional cost between US Central 1 and Europe West 1 is lower than the cost between Europe West 1 and US West 1. For more information, see advertise prefixes and priorities in the Google Cloud documentation.

### Video - [Network Connectivity Center](https://www.cloudskillsboost.google/course_templates/1145/video/520715)

- [YouTube: Network Connectivity Center](https://www.youtube.com/watch?v=4dWiN75t8qI)

Now that we've discussed various Interconnect options, let's explore Network Connectivity Center or NCC; a centralized hub for managing your Google Cloud network connections. Zeek, a network engineer at Symbol Corporation, is tasked with connecting VPC networks across multiple regions to support their global expansion. Their current network architecture relies on a complex web of manual configurations and lacks centralized visibility, making it difficult to manage and troubleshoot. Zeek needs a solution that simplifies connectivity, provides comprehensive monitoring, and scales seamlessly to accommodate their growing network. Network connectivity center emerges as the perfect solution for Zeek. NCC establishes a centralized hub for managing all VPC connections, streamlining configuration, and eliminating the need for complex manual processes. Its comprehensive visibility into network traffic and performance metrics allows Zeek to quickly identify and resolve issues. Additionally, the inherent scalability of NCC ensures that Zeek can easily add new VPC connections as Symbol expands, ensuring their network remains robust and reliable. NCC adds some useful features to Google Cloud Networking. You can integrate third-party network appliances between external sites to your VPC networks or even between VPC networks. For supported regions, you can use the Google Cloud network to configure site-to-site data transfer. After configuration, external sites use Google Cloud network as a WAN, which reduces latency. Network Connectivity Center also lets you centrally manage multi-site configurations between your external sites and Google Cloud.

### Video - [Lab intro: Configuring Network Connectivity Center as a Transit Hub](https://www.cloudskillsboost.google/course_templates/1145/video/520716)

- [YouTube: Lab intro: Configuring Network Connectivity Center as a Transit Hub](https://www.youtube.com/watch?v=PRA19kYtL44)

Let us next explore how to influence the best path selection. In this lab, you will go through the process of setting up Network Connectivity Center, as a transit hub to route traffic between two non-Google networks using Google's backbone network.

### Lab - [Configuring Network Connectivity Center as a Transit Hub](https://www.cloudskillsboost.google/course_templates/1145/labs/520717)

Configuring Network Connectivity Center as a Transit hub to interconnect two non-Google networks such as remote branch offices using Google’s backbone network. 

- [ ] [Configuring Network Connectivity Center as a Transit Hub](../labs/Configuring-Network-Connectivity-Center-as-a-Transit-Hub.md)

### Video - [Debrief](https://www.cloudskillsboost.google/course_templates/1145/video/520718)

- [YouTube: Debrief](https://www.youtube.com/watch?v=QkZ1EvJoq-E)

In this module, you learned about Cloud VPN and how it can be useful for lower bandwidth needs and to implement encrypted connections. In the lab, you explored the process of setting up Network Connectivity Center as a transit hub to route traffic between two non-Google networks using Google's backbone network. At the end of the module, you learned how Network Connectivity Center centrally manages hybrid multi-site connectivity using a hub and spoke architecture.

### Quiz - [Quiz](https://www.cloudskillsboost.google/course_templates/1145/quizzes/520719)

#### Quiz 1.

> [!important]
> **What is the purpose of a Cloud Router, and why is that important?**
>
> - [ ] To dynamically exchange routing information using BGP between Google Cloud VPCs and other networks.
> - [ ] To load balance traffic across multiple Google Cloud regions and zones.
> - [ ] To filter and restrict traffic based on predefined security rules.
> - [ ] To create and manage virtual private networks (VPNs) between on-premises networks and Google Cloud.

#### Quiz 2.

> [!important]
> **In Network Connectivity Center, what are the two main types of spokes that can be connected to a hub?**
>
> - [ ] VPC spokes and Hybrid spokes
> - [ ] VPC spokes and Global spokes
> - [ ] Regional spokes and Global spokes
> - [ ] Global spokes and Hybrid spokes

## Course Resources

Student PDF links to all modules

### Document - [Networking in Google Cloud: Hybrid and Multicloud Course Resources](https://www.cloudskillsboost.google/course_templates/1145/documents/520720)

## Your Next Steps

### Badge - [Course Badge](https://www.cloudskillsboost.googleNone)
