---
id: 567
name: 'Google Security Operations - SOAR Analyst'
type: Course
url: https://www.cloudskillsboost.google/course_templates/567
date_published: 2024-05-07
topics:
  - Chronicle
  - SOAR
  - SIEM
---

# [Google Security Operations - SOAR Analyst](https://www.cloudskillsboost.google/course_templates/567)

**Description:**

This course helps you understand how to use Chronicle to properly handle security incidents.

**Objectives:**

* Review Chronicle's integrations with third party applications.
* Review incident management best practices
* Demonstrate proper incident response

## Introduction

This module will provide a short introduction to Chronicle SOAR Analyst

### Video - [Welcome](https://www.cloudskillsboost.google/course_templates/567/video/472938)

* [YouTube: Welcome](https://www.youtube.com/watch?v=HXVMhUFC-PU)

hi and welcome to Chronicle soar analyst training throughout this course we will briefly review the fundamental components of the chronicle soar platform explore common incident handling methodologies demonstrate a few end-to-end use cases and build and configure various components within Chronicle soar such as integration and alert ingestion mapping and modeling playbooks and dashboards and reports in this video we're going to cover the core modules of Chronicle soar the first of which is the home page the home page is intended to be used as a base of operations for an individual analyst where they have easy access to assigned cases pending actions tasks requests a workspace that shows links notes and contacts and finally sock announcements next is our dashboards later in this course we'll build a dashboard together as part of the training but to put it simply dashboards provide a customizable widget-driven window into sock performance this allows you to continuously improve the key aspects of your incident response process and how to better automate the triage workflows specifically you will find widgets that measure things like sock status case loads and case distribution alert reduction and distribution top reporting products as well as various metrics about alerts being ingested into the platform the next module is the case view this view is the most heavily used module in chronicle soar and it is commonly where an analyst will spend the most time as alerts are fed into the platform Chronicle soar will cluster and tag related alerts into individual cases this significantly reduces the noise generated by your alerting products specific to investigations Chronicle soar provides all the information your analyst needs for a complete picture of Any Given case the list of cases that are ingested into the system from the various connectors appears in the cases queue located on the left side of the screen clicking on one will open it up in the main part of the screen the overview tab displays information relevant to the case the displayed information is based on widgets that can be configured by the Admin the case wall tab is a case event log that contains all the case information from creation to closing while playbooks are running in the background and analysts are conducting their investigations the information related to Playbook results including analyst actions case stage priority and things of that nature are all captured in our case wall think of this as an audit Trail for a case alerts attached to the case are displayed in the alert overview tabs these tabs display crucial information and events associated with the case on the right is a button for the explore module this module uses Chronicle soars visual family models to show analysts the relationship between all entities in a case and how or why they are interconnected in a graphical node-based format the next module is playbooks this view is where all your automated processes are built and maintained we'll cover building playbooks in a later video but at a high level Chronicle soars Playbook editor is a drag and drop workflow Builder where you can drag and drop various Playbook components into the editor canvas this will allow you to build both semi-automated and fully automated playbooks to address the manual repetitive tasks that an analyst must do on a daily basis playbooks are built from the following core components triggers which kick off a Playbook actions which are composed of the Integrations that you have downloaded and configured within Chronicle soar flows which are the conditional logic used to create branches within a Playbook and finally blocks which allow you to create reusable nested workflows within an existing Playbook the next module is the search module this component allows you to search against all cases within Chronicle soar whether opened or closed to find more detail about a specific case you also have the ability to use various filter options such as status environment tags Etc to more efficiently find what you were looking for next is reports this module provides the mechanism for building reports and sending them to various stakeholders within your organization on a scheduled basis Chronicle soar includes pre-built templates for you to use in building out those reports but you can also create and schedule your own reports as well let's move on to the soar platform Marketplace the marketplace is where all of Chronicle soars Integrations are downloaded configured and maintained each integration has a read more link that will show more detail about integration including a list of the components available within it once an integration is downloaded and configured you can use the provided actions within a Playbook automation and if the integration provides a connector you can use it to ingest correlated alert data into Chronicle soar Chronicle soar also allows you to create multiple instances of the same integration and assign them to specific environments you have previously defined specifically you can Define or configure an integration in the shared instances category which will apply to all of the environments you have defined or you can create a separate instance of an integration for a specific environment let's move on to Chronicle soars IDE the IDE provides two core functions the first is viewing source code of all of the available Integrations you have installed whether that be an action a connector or a job where you can not only view but also duplicate and modify the code to fit your needs second is our custom Integrations within the IDE you can write debug and test custom Python scripts that allow you to interface with a third-party product using Chronicle Source API this is all without leaving the chronicle soar web interface our python SDK is well documented you can view our documentation Page by clicking on the dev icon as well as view all available API endpoints within the local instance of swagger that's included in the chronicle soar deployment next let's talk briefly about settings settings is where you configure a range of platform-specific settings such as user access and permissions case elements and data as well as more advanced items such as ldap configuration or multi-factor authentication this is also where you can set configuration parameters for connectors and jobs clicking the help icon we see a link to the latest product documentation as well as a hotkeys cheat sheet for quicker navigation through the chronicle soar interface you can also tweak your notification preferences via the notifications icon as well as click your profile icon to change your localization settings and password as well as set your personal theme to light or dark that covers the basics to Chronicle soar thanks for watching we'll see you in the next video

## Chronicle SOAR Analyst

This module helps you understand how to use Chronicle to properly handle security incidents.

### Video - [Recap on Integrations Mapping and Modelling](https://www.cloudskillsboost.google/course_templates/567/video/472939)

* [YouTube: Recap on Integrations Mapping and Modelling](https://www.youtube.com/watch?v=jDgg3yP5vyI)

hi and welcome to Chronicle soar in this video we will briefly recap how Integrations work in chronicle soar specifically integration actions integration connectors and mapping and modeling of alert data much of the functionality that Chronicle soar provides is dependent on our ability to interface with third-party products and services in chronicle soar this functionality is achieved through Integrations these are basically python-based packages that connect to the tools and services you use in your environment to facilitate things like querying enrichment task execution and data ingestion within the chronicle soar platform to start let's navigate to the soar platform Marketplace here you will find a list of all the available Integrations that you can download and configure within Chronicle soar that is all Integrations are installed configured and managed within the marketplace View clicking on an integration will expand upon the functionality provided for example let's take a look at arcsite this particular integration contains actions that you can leverage within a Playbook as well as a connector that we can use to ingest data into the platform let's configure an integration as you can see here I have virus total this one is downloaded already we primarily use virustotal as an enrichment source so we're going to use the provided actions within a Playbook or a manual action to enrich entity data that we see from the ingested alerts so let's configure this integration clicking on configuration then Integrations we can see that we have a shared instances setting as well as individual environments in which we can configure individual instances of an integration per each environment this will allow you to segregate the Integrations you have running in your environment based on the environment data that you have within each environment for the purpose of this video we'll just stick to Shared instances shared instances allow you to configure a single integration once then leverage it throughout all the environments you have defined within Chronicle soar think of it as a wild card configuration to configure an integration you hit the plus icon in the top right here find the integration you're looking for in this case we're going to do virustotal you will then be asked to provide the instance name description and the configuration parameters defined for that specific integration for virustotal this one's pretty easy it's just API key you would then save and test this integration once that's saved you can then use this within a Playbook action as well as a manual action within the case View so in the case view you can hit the manual action button near the upper right here choose the integration you just configured and there you have the actions available for you to execute now for virustotal it's an enrichment action so once that action has run you'll be able to see that as an entity Insight within the case View within a Playbook we'll do the same thing search for the integration we just downloaded and there you have the individual actions available for you to use within this Playbook workflow then all you need to do is drag and drop into the editor canvas provide your action parameters and then choose the instance you want to use this goes back to the ability for you to set up an integration instance for an individual environment or as a wild card instance in the shared instances category let's move on to connectors to configure a connector we'll click the settings Cog then connectors here's where you can add a connector that you have downloaded and provide your connector parameters you can also test and debug directly from within this menu let's move on to mapping and modeling mapping and modeling is a topic we'll cover in depth in a later video but in a nutshell mapping allows you to map alert fields to the corresponding Fields within Chronicle soar while modeling allows you to manipulate how Chronicles or interprets different types of entities and Associates them with other related entities such as a file file Hash A source URL or an IP address so let's start with mapping you can view and modify event sources and then drill down to specific field mapping settings within the ontology settings menu to drill down or configure the event mapping click the settings Cog here which will take you to the event configuration menu where you can then see the mapping settings that you have defined for this specific source now in chronicle soar mapping follows a hierarchy of Event Source event product and event category so each subsequent event level will supersede the previous level as your mapping alert values keep in mind that mapping done at the event category level will take precedence over source and product levels this allows you to globally map field values at the source while enabling more granular control over field mapping for a more specific subset of alerts now you'll see here that again we have entity fields and system fields that we can map this table icon will show you the Raw event or alert Fields associated with the data that you're ingesting where you can then take these field values and map them to an entity field or a system field you'll see that we have these Green Fields here these are extracted fields that we have taken out of the ingested data and mapped to an entity field or a system field on the flip side red Fields indicate that we have not mapped this to anything within the ingested alerts which typically indicates that either the field isn't present or it hasn't been mapped or identified yet you can also view the modeling settings within the same event configuration menu to select a specific visual family but for modifying these families or creating a custom one we can move back to our settings menu to look at those so with modeling this is how we build out those custom families to display the node-based visualizations in the explore view you can fine tune these visual families or create custom ones to enhance node relationship mapping for each data source as a quick overview visual families are built by inputting entity source and destination types for any given visual family we can view the source and destination settings for each of those and the relationship type there are two relationship types we have type and linked type can be thought of as action or actionable whereas linked can be thought of as a connection or an association I'm going to move to the explore view within the case tab to better explain this as you can see here we have a range of entity types in this visualization that are all interconnected which shows the user how they are associated with each other first we can see that this Source entity is executing some sort of action on the destination entities below it this connection is made with an arrow which indicates a type or action relationship in this case that's sending an email to these three users in the organization now the entities below are connected with dotted lines this indicates that the source entity in this case these three users is simply connected to the destination entities such as the file attachment or a user and machine hostname and again this is a linked or connected relationship type as I mentioned this is something that we will cover in a later video but for the most part that is Integrations mapping and modeling at a high level thanks for watching we'll see you in the next video

### Video - [Mapping and Modelling](https://www.cloudskillsboost.google/course_templates/567/video/472940)

* [YouTube: Mapping and Modelling](https://www.youtube.com/watch?v=bv56qY2VH3Q)

hi and welcome to Chronicle soar in this video we're going to take a deep dive into how mapping and modeling of alert data Works in chronicle soar as well as walk through the process of mapping and modeling your first case into the platform this is an important first step to ensure Chronicle soar properly parses the data you are feeding into the platform and applies the correct visual model to accurately display the relationship between alert entities in general mapping and modeling only needs to be configured once but it's always a good idea to fine-tune your settings as you start ingesting new alerts into Chronicle soar so let's get started here I have Chronicle soar running in my lab with a few simulated cases opened you'll see that none of the events inside these cases contain any mapped fields or extracted entities it's basically just the raw field data associated with this specific event and you'll see that with all of these alerts that we have opened now generally these events will be grouped into a single case but because we don't have any mapping or modeling defined they come in as three separate cases so let's fix that by going to our first case here going to the events Tab and clicking on the settings Cog which will take us to the event configuration settings now before we dive in further let me first explain how the event hierarchy is structured this follows a hierarchy broken down into Source product and event each subsequent event level will inherit the modeling and mapping done at the source level so as you are modifying your event settings keep in mind that mapping done at the source level will also be inherited by the product and event levels this allows you to globally map field values at the source while also enabling more granular control over the models or mapping for a more specific subset of alerts for the purpose of this example we are going to stick to the event level now that we understand how the event levels work let's hop into our visualization settings first given that this is a Windows product event we want to select a model family that best matches this type of event so for this example we're going to select OS that's all you need to do in terms of selecting a visualization model we can now move on to mapping settings several tools are available to make the process as quick and painless as possible but let's take it from the top let's assume you have alerts feeding into Chronicle soar that don't have any pre-configured field mapping done for you you first need to identify what field data is available for mapping you can retrieve this information by selecting the table icon in the upper right hand corner this displays the fields available for mapping with the key column being the field names that you want to be mapping against another note is text coloring within the chronicle soar mapping settings a red field means that the Target Field has not been mapped to an event field while the gray text color indicates that while a target has been mapped to an event field there is no field data in the source event that matches the mapping and finally green text means that the Target Field has been mapped to the corresponding event field and that the event contains a matching field in other words this field has been successfully mapped and you'll see that as we get started here so in order to modify field mapping all you need to do is double click on a specific field what we want to do here is Define the extracted field and the transformation function extracted field is the field from The Source event and the transformation function is how we want to display this data so for the most part we're typically going to use string but there's also the option to use IP address or Unix time for dates if you need to customize how this data is transformed you can use regular Expressions to fine-tune how the data is being displayed in chronicle soar you also have the option to select alternative Fields this primarily serves as a way to have a backup field in case the primary extracted field you have selected is not available in the event data so I'm going to go ahead and quickly map these okay you can see that this extracted field is now green if you hover over this field you can see the specific field data associated with that event field so we know that this specific mapping is working and we can move on we don't have anything for Source host name Source address or file name so we'll leave those as they are so I think that covers entity fields we can now move on to system Fields now again for start and end times we're going to use a specific transformation function that is the Unix time function and we're just going to go down the list here and select the appropriate fields that match what we're seeing in the Target Field column so I think we have the fields mapped for this specific event now these changes won't be applied until an additional event comes in that matches this specific Event Source since this case is a previous case we won't see changes in our settings until we push a new alert into Chronicle soar let's go ahead and move on to another example this one is a virus related alert so we can see here virus found let's go ahead and map and model this specific event again sticking to the event level so let's set our model family in this case since this is virus related we will choose antivirus and then move on to mapping see we have destination hostname then we have file name destination address file hash and we don't have destination username so we'll leave that unmapped okay let's move to our system fields here we have start time we'll use the Unix time transformation function the same goes for end time we don't have message so we'll skip that then name and there's no category outcome okay that covers the fields we can map in this specific event let's move on to the last event once all of these are mapped I'm going to re-simulate this case to show you how mapped and modeled events will be grouped into Chronicle soar and also the types of entities that are extracted as well as the visual representation within the explore menu once it's all complete so let's set our model family and then move on to mapping you'll see here that we have the default model family defined let's move on to mapping the entity fields we don't have Source username we've got destination username and Source hostname but nothing for Destination domain Source domain file name or file hash okay that covers entity fields will map start time and end time nothing for message then we've got name and category outcome okay that covers it I think we're ready to re-simulate this case let's go ahead and do that now all right so what I've done here is again we've modeled and mapped these three individual events now that we have re-simulated this case we can see that as a result of these changes we are now grouping these alerts into an individual case now again these are entities extracted across three separate alerts so as you click through these alerts you'll see that there are different entities or rather entity types based on the model family that we have selected so we can take all of this information that we have just mapped and view it in a visual manner with the explore feature as you can see here we have these three events again these are grouped into the same case but now we have entities from all these cases grouped into a single visualization in order to provide a bigger picture of how these entities are interconnected not just for a specific event but across all the events that have been grouped into this case I think that covers mapping and modeling thanks for watching we'll see you in the next video

### Video - [Playbook Development - Malware Detected](https://www.cloudskillsboost.google/course_templates/567/video/472941)

* [YouTube: Playbook Development - Malware Detected](https://www.youtube.com/watch?v=MsuMgLy9ziY)

hi and welcome to Chronicle soar analyst training in this video we're going to design our first playbook in chronicle soar using the built-in Playbook Editor to demonstrate not just how to build out a workflow but also how the various components baked into Chronicle soar's Playbook editor allow you to more efficiently automate manual processes that you might currently use today the use case we're going to cover is the investigation in response to a malware detected case for example you'll see in the case view here that we have a malware detection Alert in the case queue so we want to automate the response to this case as they say seeing is believing let's get started first things first let's look at an existing workflow example that we can translate into a Chronicle soar Playbook now if your incident response process is already documented you're ahead of the curve the key to an effective automated Playbook is knowing what's required at each stage of the incident response process since we're targeting malware detected this is the workflow that we're going to base our Playbook on now this is essentially a graphic version of an existing Playbook but we're just going to try and replicate this Playbook within Chronicle soar so with that in mind let's hop into the Playbook editor now we're going to create a blank Playbook called malware detected first things first we need to add a trigger so I'm going to use the alert type trigger you have various options here you could add a custom trigger that uses an alert name field but for this example we will use an alert type that essentially does the same thing we can say if an alert contains malware detected then we can kick off this Playbook now with that defined we know that when a case comes in and matches the name of malware detected we will kick off this Playbook so now we can start adding actions to this we typically want to start with an investigative process such as threat intelligence scans scanning IPS URLs file hashes and things of that nature so let's do that I'm going to use active directory to enrich any user account or domain information contained within this case this is something that we can use within a later Playbook Branch to contact the user request a password update block or disable the account and things like that so we're essentially providing all the investigative actions that we can then use in a later portion of this Playbook next we'll use virustotal to scan a file associated with this case now you can also give your playbook notes meaningful names and you'll see that as we go through this for this one I'll just stick to the default name here I'm going to set a threshold of three and let's say rescan after 10 days that's all you have to do for the virus total action okay now we want to add a condition which will say if the virus total enrich hash comes back as suspicious we may just proceed further within the public workflow to escalate to Tier 1 analysts otherwise we can move on to additional threat intelligence sources to double check ourselves so we can specify if virus total enrich hash is suspicious the result on that one would be true or false we'll set it to true now we can add our additional threat intelligence sources let's use X-Force to get hash info and we're going to drop this into the else Branch within this Playbook again we're saying if the virus total scan results come back is not risky we're going to double check our work and use an additional threat intelligence source let's also use a Sandbox here to analyze the file associated with this case and we can add both of these to a previous actions condition but first let's configure these two now you'll see here that the majority of these actions that I'm adding into this Playbook I will leave as Auto typically you want to use a manual step within the Playbook when you are asking an analyst a question or providing an instruction but for the purpose of scans or executing any actions we want to do that automatically so as not to hold up the automated response to this specific case okay for this one let's go ahead and grab the file path of the attachment for the environment for Falcon sandbox typically Windows is in the 100 range of environment IDs Linux is 300 and Android is 200. let's go ahead and use Windows okay those two are configured now we can move into our flow condition we're going to add two branches here one for Falcon sandbox and the other for IBM X-Force so for X-Force we can say if this comes back as risky and for Falcon sandbox we can assess the threat score and we'll say threat score greater than 50. now for all these thread Intel scans we want to add an entity insight for each of these we can do so with a Chronicle sore action add entity insight okay we'll do the same thing for X-Force and Falcon sandbox so moving back to this previous actions condition we can put both the X-Force and Falcon sandbox results in the same Branch or we can add an additional branch and split these two out so I'm going to do that we can delete this branch and now these two enrichments will be split out there we go back to our entity insight so here I'm going to add an entity Insight which will be populated in the case view under insights saying something to the effect of Falcon sandbox identified a file hash as malicious provide the file name file hash and the risk score in the case of Falcon sandbox we can do something similar for the X-Force results here we can dive in to see if there's any threat score associated with these X-Force results we'll use risk level in this case there we go so we have our investigative actions inserted into this Playbook now if we move back to our example workflow here you'll see that we're doing very similar actions using virustotal X-Force and Falcon sandbox adding insights for the outputs of these actions now we want to move to the stage where we start to Pivot and either escalate this or reassign to tier 2 maybe tier 3 and instruct them to conduct a manual investigation so that's what we're going to do here so if none of these threat Intel scans come back as positive or risky then we want to kick this back to tier 2 analysts to conduct a manual investigation let's add a general Insight saying something to that effect so we'll say tier 2 manual review hash was identified as not malicious okay now we want to change the case stage for this Branch to investigate again as I'm going through these I should be adding meaningful names to these but for the sake of time I'll just stick to the contents of these actions let's assign this case now before we proceed any further on that Branch let's address the other two branches that we currently have opened within this Playbook if any of our threat intelligence scans come back as positive or risky we want to escalate this change the priority change the case stage and assign to tier 1. we can do higher critical then save it we'll change the case stage to incident one other thing we want to do here to bring together our virustotal branch and our X-Force and sandbox branches is we're going to drag this change priority node onto the final step of the virustotal branch which will connect them so that we're not having to repeat various actions within this Playbook workflow so now we have our virus total Branch feeding into the outputs essentially of our Falcon sandbox and X-Force outputs and we still need to assign to tier one okay so now that we have assigned this case to tier one we could add an additional investigation step that kicks it back to the Tier 1 analyst to say please investigate this otherwise we can just proceed to take action on this file and use a tool to block the hash so use carbon black to block this hash we can take some additional steps such as adding an entity insight for this one that provides the carbon black block hash results as well as just to notify the analysts that this action was taken so let's do that now then we can provide the results for this action and there we go let's go ahead and update and add a case tag that says this specific incident was true positive okay now that we have taken action against this specific file we can then pivot and assign to our tier 3 analyst to provide the additional research and Lessons Learned so we're going to assign to our tier 3 analyst provide a manual instruction and you'll notice that this will be the first manual action we've used within this Playbook so what we want to do here is ask the tier 3 analyst to investigate this further and provide Lessons Learned there we go we also probably want to change the case stage okay now again this is a manual action so when the analyst completes his investigation or review he will then say as much within the chronicle soar case view by executing this action which will proceed to The Next Step within the Playbook now in this case we're going to close this alert we've taken action we've documented it and now we want to close the alert and provide reasons for closure we know this file is malicious we can say that the system blocked the attack and we can add further comments such as malicious file was contained and that's the end of this branch let's move back to our tier 2 branch where we left off we had assigned this case to our tier 2 analyst group from here we can use an integration such as slack to send a message to a specific Channel here the inputs for this are Channel ID it's usually a randomized string here and the message so we can say case ID has been escalated to tier 2 for manual investigation please review okay that will send a message in a specific slack Channel you can also send a message and wait for their reply in this case we'll just leave it as an automated action that sends a message and moves on so now that we've alerted our tier 2 analysts we want to provide another manual instruction step where we can say please conduct a manual investigation to determine if the file is malicious now we want to set this one to a manual action so again this will wait for the analyst input before it proceeds to The Next Step within this Playbook workflow from here we're going to ask the analyst a question let's say was the file determined to be malicious based on the analyst answer of which we'll provide the options yes or no we can proceed with an additional Branch within this Playbook if the answer is no we can maybe add a case tag that says false positive and close the alert close this branch and if the answer is yes it is malicious then we can escalate this and connect this Branch to our previous Branch here where we are escalating to Tier 1 and blocking the hash so let's go ahead and do that let's first focus on our false positive branch so here we want to add a case tag that says false positive and close the alert we can say not malicious false positive okay and that's the end of this branch we could take this a step further since we're using active directory to enrich user account information we could also do something like send an email to the user to determine if this activity was normal or not then provide an additional Playbook Branch to say based on their answer we either want to disable the account request a password update or just escalate it back to our Tier 1 branch but for the purpose of this video we'll just stick to assuming our tier 2 analysts were able to confidently say that this was not malicious now let's move to our yes Branch within this workflow for this one all we need to do is drag the change priority node on top of the final step of the yes branch which will then connect all of these together where we are then escalating it to tier one blocking the hash with carbon black and eventually closing the alert as you can see here the overall flow of this specific Playbook looks a little bit different but we're essentially doing the same steps here so again we had a tier 1 branch and a tier 2 branch and on this one they're doing something similar to the effect of emailing the user so they're going to assign it to tier 3 email the user and then provide an additional Playbook Branch based on that user's endpoint input the final Branch within this Playbook is the same we're using carbon black to block a hash providing some insight as to what we did and documenting the results of this Playbook and then eventually closing the alert so as you can see here this is the standard incident response process to respond to a malware detected alert now let's save this Playbook Okay so we've saved this Playbook and now when new malware detected alerts or cases come into Chronicle soar this Playbook will kick off on this malware detected alert and you'll be able to see the progress of this Playbook as it's running so for example here we have a malware detected Playbook not the one we just built running on this specific alert all right that's a wrap for this video thanks for watching we'll see you in the next video

### Video - [Playbook Development - Phishing](https://www.cloudskillsboost.google/course_templates/567/video/472942)

* [YouTube: Playbook Development - Phishing](https://www.youtube.com/watch?v=blFqWlWEcIM)

hi and welcome back to Chronicle soar analyst training this video is a continuation of the previous video where we walked through a typical Playbook workflow to address the automated response to a malware Alert in this session we are going to design a Playbook that addresses phishing one of the most common use cases analysts must address on a daily basis within Chronicle soar you can monitor a specific email inbox or folder to monitor for emails as they are received such as a phishing inbox you'll see that I have a simulated fishing case opened within the chronicle sore case view here in this specific case Chronicle soar is grouping multiple phishing email alerts into a single case because they all originated from the same sender from an automation perspective this functionality not only allows automation outputs such as enrichments to be stored in the same case but also allows a single analyst to orchestrate the response to this phishing campaign with this in mind we can now build out an automation workflow that addresses the response to phishing alerts such as those that we're seeing in this case let's get started first let's look at the workflow template we are going to replicate within Chronicle soar as with any Playbook we'll start with an analysis or investigation phase and then we'll pivot to containment and eradication then finally recovery and communication of risk steps within the incident response process okay now that we roughly know how we're going to tackle this specific use case let's move back over to Chronicle soar we'll go to the Playbook Tab and create the first piece of this Playbook now for this example I'm going to use a Playbook block to simplify this specific workflow in this case this block is going to run actions associated with investigation or analysis steps within the workflow so I'll go ahead and create a block here now Playbook blocks allow you to put together a string of actions with inputs and outputs defined so that you can create an investigation block and then insert this specific block into whatever playbooks you need as an investigative step within that workflow this allows you to effectively reuse the same block multiple times for multiple playbooks and also provides one place to update the content within that block such as the actions we're using I'm going to give this block a name really quick okay first we need to configure our inputs in this case we're going to be using actions like active directory enrichments as well as virustotal and IBM X4 scans of ips URLs and file hashes so for our inputs we need to provide inputs relevant to those actions so the first will be external URLs we can use our Dynamic placeholders here to pull out what we're looking for in this case we're looking for event.destination URL okay now we're going to add external IP and we're going to use the placeholder once again here we're looking for external IP addresses we have two more left to add file hash and internal user placeholders okay we have these inputs defined so when we run the subsequent actions associated with this Block they'll use the inputs that we have defined here so next we're going to use active directory to enrich the entities associated with this specific case let's give these meaningful names call this ad in Rich internal and here again we're targeting internal entities such as an internal user and save that and then move on to our threat intelligence scans such as virustotal let's go ahead and scan URL IP address file hash and then we're going to run these same actions using the X-Force enrichment actions and again starting with URL IP address and file hash okay let's go ahead and configure these actions and then we will provide the outputs that we're looking for and then we can move to creating the actual Playbook okay so for virus total scan of URLs we can select the all urls entities provide a threshold of three save that and these are all going to be automated actions for IP address we want to scan external IP addresses all right moving on to IBM X-Force do pay attention on the threshold parameters here depending on what the API parameters require it could be an integer or it could be a string such as low medium or high so in this case we're going to use medium okay so we have our block actions defined we can now provide some outputs now what this allows you to do is not only reference the action outputs of these individual actions but you can also provide a global return value to leverage within the Playbook for example using our placeholders we can use the placeholder entity is suspicious which will basically be true if any of these results come back as malicious risky or suspicious on the entities they're scanning okay so this is our block we can now save this and move on to creating our Playbook okay so let's do that now we'll provide it with a name and now we need to start with a trigger now you can use the alert type trigger the custom Trigger or something like product name or tag name in this case we're going to use custom trigger and here we're going to say if alert dot name contains phishing then we'll kick this Playbook off now moving back into our investigation phase of this workflow to start things off we want to set a priority we're going to provide a meaningful name for this so we have our priority defined and now we can use the block that we just created let's go ahead and refresh the page so we can use our block okay now we're going to use the block we just created which is phishing investigation and by double clicking you can see the actions that we defined previously are all here so we've essentially reduced the number of actions that would be included for an investigation part of the workflow into one single block now we could do this throughout the Playbook but for the purpose of this video I just wanted to show how the Playbook block functionality worked within a Playbook okay so now we want to take the outputs of this block provide a conditional statement that says if any of these came back as risky then we're going to move to the yes branch which will essentially involve escalating to an incident changing the priority and doing some other remediation actions okay so for this one we're going to again provide a meaningful name okay so here we can use the return value which is the event dot is suspicious parameter which would fall under our return value or we can use the individual return values of the actions within this block now for the sake of Simplicity we'll just stick to the output that we defined within the block so we'll say if that equals true then we're going to move to the containment part of this specific Playbook so let's hop back over to our workflow template and we can see here if the output contains malicious content then we can escalate to an incident set a priority assigned to tier 2 and search for additional emails so moving back to our Playbook let's define those actions first thing is we want to set a case stage we can call it case stage incident now we want to set a priority of high let's assign to tier 2. okay now we're going to use the exchange integration to search for additional emails for this one we want to use a subject filter we're going to use our placeholders once again and select the email subject go ahead and save this action and last we want to add an instruction which essentially tells an analyst to review the contents of the flagged emails and determine if they are indeed malicious or risky so we'll do that here so we can say please review contents of the flag suspicious emails associated with the following case ID to determine if malicious then we can provide a placeholder for the case ID save that so now that we've completed the escalation piece of this specific workflow we're going to Pivot to the response process in order to do that we're going to ask a question to the analyst in the form of a multiple choice flow condition which asks them should the response process be started the answers we'll provide are yes and no we'll name this one question kickoff response okay so now we have two more branches to populate here the first will be if the analyst answers yes and then we'll come back to the branch where the analyst answered no alright so let's take a look at the next steps within our template so here we're posing the question to the analysts do we want to start the response process focusing on the yes Branch we're going to add an instruction send off a couple emails and then close the case with the tag of malicious all right moving back to our Playbook canvas let's go ahead and add these actions so we want to provide an instruction and then we're going to use the exchange integration to send emails to various teams and users in the organization we're going to add a few of these because we'll be sending off multiple emails then we also want to include the close alert action which will conclude this particular branch now I'm using close alert because rather than closing an entire case we just want to close the individual alert that this Playbook is running on and again that goes back to within Chronicle soar we are grouping multiple phishing related emails into a single case so instead of just closing the entire case we just want to close that one alert okay so let's populate these actions here we want to tell the customer to execute actions such as blocking URL quarantining an endpoint or blocking a file hash so we'll say something to that effect please execute the following actions block the URL at the firewall quarantine the endpoint and lastly block the file hash now we could use placeholders to provide additional detail to the individual we are emailing we'll keep it simple in this case and just use plain text OK moving on to the emails we want to send out the first one we want to send is to the proxy team we want to provide the subject such as urgent action required we want to send to the proxy team within your organization then for the email template we're going to use the same template in the previous action but we're going to provide some additional detail so I'll just copy this over from the previous action please execute the following actions okay so we're saying block the URL at the firewall with the placeholder of event.destination URL quarantine the endpoint which is alert dot internal host names and block the file hash which is alert dot file hash that's our first email okay let's give this a meaningful name send a mail internal same subject urgent action required the individual or team we're sending it to and finally the template here we're going to say please quarantine the following endpoints we're going to use a placeholder one more email we're going to send an email to the user that submitted this phishing case so we can say something to the effect of in reply to your suspicious phishing email submission for the send to field we're going to use alert dot users email and for the email template we'll thank them for their submission after reviewing we have determined that this was indeed a malicious email because again we are in the incident Branch then we can say something like please continue to forward any emails you think may be suspicious and then provide the email distribution list where these should be sent okay our email actions are configured last one here within this Branch we're going to close the alert let's give this one a name of close alert malicious for the reason let's say this is malicious for root cause we'll say external attack and then you can add a comment okay that's the end of this branch let's move to the no Branch within this Playbook workflow so for this one we're going to add a case tag a general insight we want to send an email to the user that again thanks them for their submission and let them know that this wasn't a malicious email then finally we'll want to close the alert okay we're going to add a false positive case tag then for the Insight we're going to say something to the effect of nothing found okay and then for the email we send off we'll use a similar template to our previous notify user action or we can say in response to your suspicious phishing email submission let's go back to exchange and pull the right one out okay again using placeholders to send this to the appropriate user and finally our email template let's make this all caps since it's a similar email template okay and lastly we're going to close this alert out with the root cause of false positive so not malicious and false positive and we can say okay and that's the end of this branch now the last thing we want to do is if you remember we have a block earlier on here that says if entities come back as suspicious we will escalate otherwise we'll likely close the case so that's what we're going to do here we'll take the first action within our false positive branch and drag it over to the beginning of this flow condition so that will connect these two branches which will prevent us from having to recreate these actions within a second branch all right let's zoom out here and view our work so again this is a phishing use case example so we're using Playbook blocks to provide enrichment actions then we are using flow conditions and the subsequent actions to escalate this provide instructions to the analyst and ultimately send out an email to do things like block an IP address or URL at the firewall or quarantine an endpoint or something to that effect alright that's a wrap for this video thanks for watching we'll see you in the next video

### Video - [How to Configure a Connector and Ingest Cases](https://www.cloudskillsboost.google/course_templates/567/video/472943)

* [YouTube: How to Configure a Connector and Ingest Cases](https://www.youtube.com/watch?v=Q_EQ6ZJ6oS0)

hi and welcome to Chronicle soar during the session I'll be covering Chronicle soar connectors and alert ingestion Chronicle Source connectors provide the mechanism through which we can ingest correlated alert data into the platform this is an important first step in ensuring data is properly and reliably forwarded to Chronicle soar for further enrichment and automation in this video I'll guide you through the process of ingesting your first batch of alerts into Chronicle soar in this case we'll be using the crowdstrike detections connector first we need to download the crowdstrike integration Integrations and connectors are both maintained in our Marketplace so I'll go there now we need to download and configure the crowdstrike integration plus connector so as you can see here there are actions available in the crowdstrike integration which use API based calls to execute Playbook actions as part of a workflow automation you can also see that we have a connector associated with crowdstrike including the crowdstrike detections connector and that's what we are looking for from the marketplace you'll be able to download and install this connector before we proceed with configuration for this particular menu this is to configure the integration portion so the piece of the integration where we'll be able to execute Playbook actions so I will input the hostname of my crowdstrike instance which looks like that and then I will provide the information for our Chronicle soar user once that information is input we need to then save those changes and we can then test this piece of the integration to confirm it is working correctly before continuing on now we're ready to configure the crowdstrike connector so we'll close out of this window and go to the connector settings which is available up at the top here we will then add the connector we just installed the crowdstrike detections connector and you're presented with the parameters you need to populate in order to get this connector to start ingesting events into Chronicle soar I'll select the default environment the run every parameter selects how often the connector pulls the file share for new events I'm going to leave it at the default of 10 seconds we can also select specific field names for product and the event field name I'll go ahead and input a generic product field name and for name for this example I'm going to leave this as the default value of behaviors technique I'll go ahead and populate the mandatory Fields marked by an asterisk which in this case are the client ID and client secret fields to match the parameters in our initial configuration we also have advanced parameters available to us towards the bottom of the page for further configuration once you have all of these parameters populated we can then move on to testing the connector first we'll save these settings here and move on to testing all we need to do here is click the Run connector once button what that will do will do a test run pulling events into Chronicle soar it'll pull out one sample alert and give you an output log of the connector so let's go ahead and run this and there we go as you can see I have one sample event you can then select the sample and load to the case tab so it'll essentially open up a case and then you can also see that we have various field data that we can then enrich so I'm going to go ahead and load this to system this will pull this over to the case tab we now have a case here with the crowdstrike correlated alert once you are happy with the alerts that are feeding into Chronicle soar you can then move on to activating this connector so that it starts pulling every 10 seconds to ingest alerts and to Chronicle soar we'll go back to the connector settings select our crowdstrike connector again and go ahead and turn this on save our changes and it should be ready to go this will pull every 10 seconds and pull new alerts from the file share that we created previously let's move back over to the case Tab and you can see here that we have correlated alerts that are feeding into Chronicle soar and that concludes this session thanks for watching

### Video - [PICERL Incident Handling](https://www.cloudskillsboost.google/course_templates/567/video/472944)

* [YouTube: PICERL Incident Handling](https://www.youtube.com/watch?v=dHcTayvjDQc)

hi and welcome to Chronicle soar analyst training in this video we'll review what the best practices are for handling incidents specifically we're going to use the pickerel incident handling methodology to demonstrate what this would look like within Chronicle soar the pickerel methodology contains the following stages preparation identification containment eradication recovery and finally post-incident or Lessons Learned let's dive in and talk about each phase in more detail starting with the preparation phase this phase is one of the most crucial phases as it determines how effectively your team will be able to respond to an incident it basically ensures that your team is prepared to handle an incident at a moment's notice typically many activities are established during this phase with some of the most important being policy a written set of principles rules or practices for an organization to follow response plan and strategy in this activity an organization creates a plan or strategy to handle incidents a component of which is a prioritization of incidents which should be based on business impact communication crucial to making sure everyone knows who to contact and when to do so documentation everything throughout the incident handling process needs to be documented every action taken data gathered systems affected and so on the documentation activity outputs can also be used as evidence during the Lessons Learned phase lastly training this activity is a crucial part of preparation as the entire sock team needs to be able to translate the written incident response process into a real world scenario drills are an effective way to prepare your team for the real thing the next phase is identification this phase deals with determining if an alert is a true positive or false positive typically at the end of this phase all false positive alerts are closed with only the verified threats being escalated containment the primary purpose of this phase is to prevent any further damage to the organization so that the incident can be fully mitigated an example of containment would be isolating an endpoint or part of the network and rerouting traffic to a failover node or server in other words the containment phase is a short-term fix to stop the spread of a threat while eradication steps are still being executed next is eradication this phase is where the actual threat removal is performed and incidents are mitigated recovery the purpose of the recovery phase is to bring all systems back to a production-ready state this sometimes requires the execution of a full disaster recovery procedure and finally Lessons Learned this phase is another critical phase as the purpose of this phase is to complete all documentation as well as take any necessary security hardening or enhancement steps to prevent the same or similar incident from happening in the future now let's take it from the top and walk through this flow diagram of a best practice representation of the incident handling process now one of the first dependencies going into the preparation phase is ensuring that you are properly capturing Raw event data and firing correlated alerts on the left hand side we have the alert generating sources that we will be ingesting into Chronicle soar so during the preparation phase the enrichments and insights are automatically populated this means that all of the relevant threat intelligence and endpoint Solutions are running in the background to pull the necessary information to help analysts better identify a threat next we move into the identification phase this phase is comprised of either automated or manual investigative activities at the end of this phase the system or analyst should be able to determine whether an alert is a false positive or A true positive in the event that an analyst is unable to confidently provide a designation a third outcome is available in which Tier 1 analysts can escalate to a tier 2 analyst for further investigation that brings us to the containment phase the tier 2 analyst will assess the false or true positive designation if an alert is identified as a false positive then the alert is checked for any misconfiguration if found the alert will be handed over to the security engineering team to further tune the alert otherwise the alert is closed in the event that a true positive is identified we move to the true Branch where we will execute containment procedures which include notification of the relevant parties containment procedures either manual or automatic raising of the priority and escalation it is at this point that the alert is considered contained moving to the eradication phase this is typically handled by tier 3 analysts it also contains the business impact analysis different business impacts require specific notifications to be sent out to upper management for visibility for example if the business impact is assessed as high there are steps defined to involve senior leadership including sock manager siso and other c-level Executives to provide support during the eradication and Recovery phases the alert is then created as a self-contained Command Center or War Room incident for the eradication and Recovery phase if the business impact is determined to be low or medium then only the sock manager is involved the alert then enters the incident response or remediation phase for eradication notifications are sent out to additional stakeholders and the recovery phase is kicked off once a threat has been eradicated we now move to the recovery phase this is where the Tier 1 analyst will determine if recovery procedures are warranted if this is the case incident recovery or Disaster Recovery steps are executed otherwise we move directly into the Lessons Learned phase in this phase all the reporting and documentation requirements are produced and the process improvements are identified typically security Architects are also involved in the process Improvement steps in order to update guidelines and procedures after Lessons Learned the incident handling process is completed and the alert is closed so at a high level this is how you can incorporate the pickerel methodology into Chronicle sore to ensure that your organization has a best practice approach to the incident handling process thanks for watching we'll see you in the next video

### Video - [Incident Handling - Phishing](https://www.cloudskillsboost.google/course_templates/567/video/472945)

* [YouTube: Incident Handling - Phishing](https://www.youtube.com/watch?v=Ww8upTBlfg0)

hi and welcome to Chronicle soar during this session we are going to simulate in real time what the incident handling process looks like on our platform to do so we are going to use the phishing investigation Playbook we've created previously and walk through each branch of the Playbook as it runs to better demonstrate how the information provided by The Playbook outputs allows an analyst to more effectively respond to incidents as well as handle false positives let's get started I have the phishing investigation Playbook open that we created previously and really quick let's just walk through the flow to get a better idea of what we're going to see once this is running in real time so to start we have a trigger that will trigger on any alert that contains phishing within the name once this Playbook is kicked off we'll change the stage to investigate and set the priority and then move into our Playbook block our block is where we have all of our threat intelligence scans that are going to run in the background and pull back additional results so that the analysts can use these results to make decisions on whether or not to proceed with the response process we'll then kick the Playbook into a flow question where we will ask them do we want to kick off the response process yes or no based on their input we will then proceed to the next branch if the analyst does say that we're ready to kick off the response process we will move directly to the containment phase where we will send off various emails to the teams that have access to the tools that we'll be using for example block a hash or a user account maybe an end point and then eventually alert the customer as well as the user and close the alert with the tag of malicious however if the analyst does not have enough information to confidently say that we're ready we will kick it to a research stage we will then instruct the analyst to check the contents of the email tagged in the alert if the analyst finds any malicious content we'll kick this to a flow condition if malicious content is identified we can then escalate to our tier 2 analysts change the stage to incident search for additional emails and then tell the tier 2 analyst to verify these results where they then have another opportunity to determine whether or not we are ready to kick off the instant response process if the answer to that question is yes we will move to the contain phase and contain this threat that we're looking at we also have a branch in here to account for the potential of the threat already being contained through external tools or maybe an analyst themselves where we will then kick off the recovery process and send out an email to tell the relevant teams to begin that process we will then close out the alert with the same tag of malicious and conclude this particular Playbook workflow now in the case that nothing malicious comes back and that is verified by the analysts we can provide an Insight in the case view that tells the analyst that we didn't find anything we can notify the user to say hey thanks for your submission this email looks normal or safe and then we can close out the alerts as a false positive with the tag of not malicious now that we have a better idea of what this Playbook workflow looks like we can move to our case view where I'm going to simulate a phishing alert we can see the Playbook working in real time to display the information as it is shown to the analyst within the case view let's go ahead and do that this will simulate this phishing email alert once where it will open a separate case in a simulated alert case here's our test case this Playbook will be triggered in the background you can see that it's already working here and if you click on this alert we can see the Playbook as well as which step in the workflow this Playbook is in currently we are in the preparation and investigation phase which will populate entity insights and we're using our threat intelligence scans in the Playbook block created to enrich the information to provide additional information to the analyst as they begin their investigation we can see here that our enrichment actions have completed running and we are now in the question Branch within this Playbook where we are asking the analyst do we have enough data to kick off the response process now there are two directions the analyst can take here but first you can see the entity insights that we have as a result of these threat intelligence scans any insights from our virustotal and IBM X-Force configurations are available for our analysts to review to make an informed decision the URL was marked as suspicious the hash was marked as malware and so the analyst can use this information to make the decision of whether or not we want to begin the response process now let's assume that the analyst does not have the data that they need maybe they want to run additional scans such as an active directory scan to enrich information on the user accounts associated with this alert or maybe they want to use an endpoint product to scan for information on an individual endpoint we can do that with a manual action whatever the product may be if we're looking for user account information we can use the active directory in Rich entities action to enrich internal entities associated with this case or alert however we can also use various endpoint tools to pull down additional information about the endpoints involved in this case in this case we do have some information that seems to indicate that this particular alert has suspicious or malicious activity from an analyst perspective I believe we have enough information to proceed but just to show the remaining steps within this Playbook if I were to answer yes we would go immediately to the contained branch now as you can see here I have multiple emails going out to things like the proxy team the internal team as well as the user or customer an email will be sent to the internal team instructing them to quarantine the endpoint associated with the alert as well as an email to the user that tells them thanks for their submission and that we have indeed determined that this was a malicious email we have the relevant emails going out we've gone through the containment process and then we have then closed this alert as you can see here the notification indicating that this Playbook has finished running and the associated case will be closed because there are no additional alerts associated with this case we're going to run through this Playbook one more time however in this case we're going to use a false positive phishing email alert for this specific Playbook that's easy to do because we are kicking all of the decision making back to the analyst in a manual fashion typically you would automate that process but just to show you how we move through Playbook branches I'm using manual questions I've already re-simulated this phishing email alert we have gone through our enrichment Block in order to provide the entity insights associated with this now these all say of course that this is malicious or suspicious but we're going to ignore that for a moment and assume this is a false positive so what do we do once we have determined that this is a false positive alert first we are asking the analyst if they want to kick off the response process we're going to say no and then we can go to the no Branch within this Playbook which sends an email app to the user saying that this email is safe nothing suspicious was found and it will close out the alert now we are ready to provide our answer here we have now sent out the email to the user and we have closed the alert if we refresh the case here you'll again see the notification saying that the Playbook has been successfully run the alert has been closed and as you can see the simulated alert that we just had here has been removed again because there is only one alert associated with this case and that covers what the incident handling process looks like in real time in chronicle soar thanks for watching we'll see you in the next video

### Video - [Incident Handling - Malware](https://www.cloudskillsboost.google/course_templates/567/video/472946)

* [YouTube: Incident Handling - Malware](https://www.youtube.com/watch?v=4-qtZIBmjc8)

hi and welcome to Chronicle soar in the last video we simulated a phishing alert to demonstrate automated incident handling using a Playbook workflow during this session we're going to walk through another simulation with the focus this time being on the response to a virus found alert using the corresponding Playbook we built previously to tackle this you'll see that overall The Playbook structure follows a similar format but there are a few differences in this example let's take a look at our malware Playbook first you'll notice that much of the transition from which stage or Branch to the next is automated instead of a manual instruction approach that we utilized in the fishing Playbook here we're using our enrichment Integrations as our source of Truth and using previous actions condition flow statements to automate parts of the decision-making process second we're using messaging platforms like slack instead of email for quicker response times and also using a solution such as carbon black Sentinel 1 or other solutions to directly contain a threat if identified instead of firing off an email to an external team we're taking this approach due to the urgency that's required to effectively respond to a malware alert the response and containment of verified malicious activity needs to be swift to limit the damage inflicted on the organization now let's Circle back and walk through our Playbook here and then we'll jump into the case View and simulate a virus found alert what we're doing here is using our threat intelligence platform to scan the entities associated with the alert and then using a condition to move to the next Playbook Branch based on the results of this scan if this virustotal scan comes back as having identified a risky entity we're going to go directly to the containment phase where we're using third-party solutions to block a specific file hash and then we will add an instruction to the analyst to document their findings the outputs of the case and then close the alert now if virustotal doesn't come back with anything we can then use IBM X-Force in a sandbox tool like Falcon sandbox to scan the file hash we'll then use a previous action statement to move to the next Branch within the Playbook now in this case we're going to throw it back to a multiple choice question to the analyst that asks them if any malicious activity was identified and based on the response we will move to our containment Branch here now that we have a rough idea of how our Playbook works we can hop into our case View and simulate this alert we see here that our Playbook is up and running going through the preparation and identification phases in this case the virus totally didn't come back with any hits meaning we have now moved into the secondary enrichment Branch where we are using IBM X-Force and our sandbox tool to scan for additional details we see that the branch that was executed here was the containment branch what we're doing here is again using our security solution to block a specific file hash and now we are at the instruction given to the analyst to document the response to this incident and determine if any improvements can be made once the analyst executes this action it will then move to the next step which is closing of the alert let's go ahead and execute that action now that is run number one on our malware detected case as you can see here as this Playbook is running we're pulling out various entity insights such as endpoint information file hash information from X-Force and our sandbox tool now we do have a branch defined in here where if none of our threat intelligence enrichments come back as risky we have somewhat of a manual investigation Branch where we are sending a message via our email integration to ask our tier 2 analyst to manually investigate this at the end of this Branch we'll ask them a multiple choice question of did you find anything yes or no and based on the response we'll either go into the containment phase of this Playbook or we will close out the alert now let's go ahead and try to simulate this as if it were a false positive we'll wait for our threat Intel scans to come back and it does look like we use the manual investigation branch now we will have sent a message to a designated slack Channel which would alert our tier 2 analyst to go and investigate this manually and now we're at the decision making phase for the tier 2 analysts where they will make the determination of whether or not they found anything malicious if I were to answer yes we move into the containment phase where again we're using our security solution to block the hash I'm going to answer no here so we can go ahead and assume that nothing malicious was found and close out this alert the alert is now closed with our root cause as false positive and we are good to go this alert will be closed and therefore the case itself will be closed as well in a nutshell that is how we are handling malware incidents within Chronicle soar thanks for watching we'll see you in the next video

### Video - [Dashboard Reports](https://www.cloudskillsboost.google/course_templates/567/video/472947)

* [YouTube: Dashboard Reports](https://www.youtube.com/watch?v=vzL0kgRngnQ)

hi and welcome to Chronicle sore in this video we're going to take a look at Chronicle sores built-in dashboards and Reporting functionality Chronicle soures dashboards are composed of configurable widgets where you can monitor various metrics associated with cases or alerts playbooks analyst load triage and more today we'll walk through building a dashboard together as well as creating and scheduling a report template so having the ability to measure things like sock performance and case load allows you to not only improve upon processes used in the instant response process but also demonstrate overall value to stakeholders let's get started now within the dashboard view you'll see that we have our standard dashboard that's included with a Chronicle sore install we're going to create a new dashboard to do that we're going to select the drop-down from here and select create a new dashboard board I'm going to call mine sock Improvement and now we have a blank canvas where we can add our dashboard widgets we're going to focus on tracking metrics that will show us areas of improvement that includes noisy products or correlation rules common entities Playbook usage case distribution as well as handling per analyst with that in mind let's create our first widget to do that we have two options we can use the top right plus icon or we can hit the place card here to add a widget to this dashboard the first thing we're going to track is false positives we want to know how many false positive alerts we're seeing as well as how many false positives are associated with a particular product or event class the goal of this is to track any noisy correlation rules or maybe a noisy product or specific event class the first one we're going to track track is top positive alerts we're going to use the horizontal bar as our visualization we're going to sort by the number of alerts we'll keep the calculation field at the default count and then we're going to group by rule name we'll leave the number of results in sort order at the default value and we'll do this throughout the dashboard you can see here that we do have some data that's being populated into this bar graph which looks good so we can save this widget and add it to our dashboard now we can add another one we're going to use the horizontal bar and track false positives by product we'll use alerts again and then this time we're going to use product there we have it now we're going to track the play books we have running in this environment specifically how many times a specific Playbook has ran and again this is to identify any playbooks that maybe have too broad of a trigger and then we'll also dive in a little bit deeper to see how long each Playbook ran and so we can use that information to not only improve the playbooks we have running but maybe even how we're handling escalations and who they're being assigned to for this one we're going to use the Playbook parameter here we'll keep it at count and then we will Group by Playbook name and give this one a name as well and create you can also rearrange these widgets now we're going to track escalations and case handling time per analyst as well as case priorities by analyst so let's add those three widgets we'll do escalations first using use cases here and then the group parameter we're going to select as analyst we can add this one and move on to the next widget now we want to track case handling time between analysts and to change it up a little bit we're going to create a table this time and for the second axis we're going to use stage and the last one in this group is prioritized cases let's change our visualization to table we'll make our calculate field count the first axis will be analyst then priority and we can create this table as you add more analysts and assign specific cases to them this graph will look a little bit more populated now we want to track which alerts or products are consuming the most time of your analysts so we can add widgets here to track both of those we'll leave this one as cases and use handling average time for the calculation field and then we're going to sort this by analyst let's create another grouping by cases in a horizontal bar chart here we'll track the average handling time and group these cases by tag confirming the data looks good here we will then add one more widget for this one we want to track the top entities that appear in the alerts we're extracting on Chronicle sore the purpose of this is to see if we have any internal entities that are appearing in alerts that we don't want to show up in our cases here we're going to select alerts for our first parameter we're going to use the vertical bar and then we're also going to make this one full width of our dashboard we'll then select entity to group our data you can see at the bottom here we have our full width dashboard widget to fill this Blank Space we'll go ahead and add another widget this time we're going to track Playbook runtime we can use the horizontal as our visualization for this one select Playbook as our parameter and then average runtime as our calculation field and then then we're going to group this by Playbook name and it looks like we have a really noisy Playbook here to fix this let's go ahead and filter that one out what I'm going to do is select all of the playbooks and then deselect the noisy Playbook drag and drop this one into here and now this dashboard looks good to go we've got all the widgets we want here the next step would be exporting this as a report with the reporting functionality on Chronicle sore you can schedule a report to be sent out on a regular basis to stakeholders within an organization or maybe a sock manager really anyone who wants to keep tabs on how overall the sock is performing within the chronicle sore dashboards menu we can save this dashboard as a report template which we'll do now we'll keep General as the category and give it a name of scsa report now that we've saved we can move over to our report view you'll see that there are report templates that have been predefined here and at the bottom you'll see the scsa report that we just created from our dashboard we can go ahead and generate this report and make sure we get as much data as possible we'll select the past year and then for the file type I'm going to choose PDF you also have the ability to choose Microsoft Word and let's download this report okay here's our report you'll see these selected environments I just selected all environments and then the visualization widgets that we selected in our dashboard are now contained with within this report in a much more detailed fashion that's one of the many types of dashboards and reports you can build out additionally at the top here we're able to view and create Advanced reports on the left hand side you'll notice various pre-populated reports that come out of the box to help track things that you may already be interested in these reports cannot be modified however they may be filtered downloaded shared and duplicated you can create a new report by selecting the plus sign and filling the prompted Fields as desired once a report is duplicated or created we can edit the dashboard to our liking by clicking the three dots and selecting edit dashboard individual tiles may also be downloaded and modified which we will do now by selecting explore from here we're taken to a a new window which allows us to configure the visualization tiles we're presented with a filtering pane visualization Pane and data pane in the visualization pane we're able to customize how we'd like our data to be presented in the data pane we control which fields are being represented in the report currently we're showing our case data string field with values of open and closed as well as case count with correlating data if we open the all Fields tab on the left we see that the four Fields populated in the data pane are related to the VW dashboard cases which can be expanded to show the titles for various Fields also available for selection adding a field is as simple as selecting the desired field which will then be populated in the data pane deselect undesired fields to show the data that you'd like to be represented as we've covered in today's video these reports including the out of the Box reports are designed to present data critical to your organization and can be customized further to best suit your needs thanks for watching we'll see you in the next video

## Assessment

This quiz focuses on the topics covered in throughout the course

### Quiz - [Analyst Quiz](https://www.cloudskillsboost.google/course_templates/567/quizzes/472948)

#### Quiz 1.

> [!important]
> **Where in the platform can you see why a playbook action failed?**
>
> * [ ] In a Notifications sections of the Homepage screen.
> * [ ] Review the execution log of this action under the case wall
> * [ ] Review the execution log of this action under the Playbooks Tab
> * [ ] In the Chronicle SOAR IDE.

#### Quiz 2.

> [!important]
> **Where can you find and re-open a case that has already been closed?**
>
> * [ ] All closed cases / alerts are available under the Cases Tab.
> * [ ] All closed cases / alerts are available in the Settings option.
> * [ ] None of the above.
> * [ ] All closed cases / alerts are available under the Search tab.

#### Quiz 3.

> [!important]
> **By changing a playbook task from "Auto" to "Manual," you are instructing the playbook to stop and wait for human intervention**
>
> * [ ] False
> * [ ] True

#### Quiz 4.

> [!important]
> **When are source entities defined for each alert within Chronicle SOAR?**
>
> * [ ] During data modeling.
> * [ ] During Alert ingesting.
> * [ ] During enrichment.
> * [ ] During mapping.

#### Quiz 5.

> [!important]
> **How can you scope a playbook action to run on a limited selection of entities?**
>
> * [ ] By configuring action rules and using logical operators inside the Playbook condition blocks.
> * [ ] By specifying the exact scope of entities that you are interested in targeting
> * [ ] By removing the entities you are not interested in.
> * [ ] By entering a desired limit, shown in number of entites you want to include inside the Playbook action.

#### Quiz 6.

> [!important]
> **What transformation functions helps changing the date formatting during alert mapping activities?**
>
> * [ ] TO_IP_ADDRESS
> * [ ] FROM_UNIXTIME_STRING_OR_LONG"
> * [ ] EXTRACT_BY_REGEX
> * [ ] TO_STRING

#### Quiz 7.

> [!important]
> **When looking at a playbook, how can you distinguish a manual action from an automatic action?**
>
> * [ ] Manual Actions have the square shape. Automatic Actions have the triangle shape.
> * [ ] Manual Actions are outlined with red color. Automatic Actions are not outlined.
> * [ ] The letter "A" next to the integration action means automatic and "M" means manual.
> * [ ] Manual Actions are marked with purple color. Automatic Actions are marked with blue color.

#### Quiz 8.

> [!important]
> **You can avoid generating too many insights by specifying this when configuring an action:**
>
> * [ ] Name of the action.
> * [ ] The scope of alerts.
> * [ ] The exact entity scope.
> * [ ] Description of the action.

#### Quiz 9.

> [!important]
> **Where can you see the comments left by all analysts working on a case?**
>
> * [ ] The Case Wall contains full detail of each case including all comments.
> * [ ] The Announcement section within Homepage screen contains full detail of each case including all comments
> * [ ] The Case Overview section contains full detail of each case including all comments
> * [ ] Comments can be seen in the Case Data section of the Settings as well as contain full detail of each case.

#### Quiz 10.

> [!important]
> **What functionality can be used in Chronicle SOAR to minimize the lift and maintenance of a set of repeated actions across multiple playbooks?**
>
> * [ ] Chronicle SOAR previous action condition features can be used for all repeatable actions.
> * [ ] Chronicle SOAR insight features can be used for all repeatable actions.
> * [ ] Chronicle SOAR blocks can be used for all repeatable actions.
> * [ ] Chronicle SOAR condition features can be used for all repeatable actions.

#### Quiz 11.

> [!important]
> **What Chronicle SOAR component allows you to ingest raw source data into the platform?**
>
> * [ ] Action
> * [ ] Job.
> * [ ] Insight.
> * [ ] Connector

#### Quiz 12.

> [!important]
> **How does Chronicle SOAR allow you to remediate failed actions within a playbook?**
>
> * [ ] When a certain action fails, the user will receive the notification and manually add another branch of the same action into the existing Playbook.
> * [ ] When a certain action fails, only the Rerun button is available for the user to choose after re-configuration of the selected action.
> * [ ] Rerun and skip buttons are available in case an action fails to execute. Rerun button is available after the action fails. Skip button is available in the configuration block of the specific action.
> * [ ] When a certain action fails, the user will receive the notification regarding the failed action. The Playbook will need to be redone from scratch.

#### Quiz 13.

> [!important]
> **The Case Queue is a live list of what kind of alerts?**
>
> * [ ] Only open alerts that include playbooks.
> * [ ] All open alerts regardless of whether its case is closed or not.
> * [ ] All open and closed cases.
> * [ ] All open alerts that are part of active cases.

#### Quiz 14.

> [!important]
> **How would you un-merge different branches of a playbook into a single branch?**
>
> * [ ] Click on the Flow block in the Playbook, then select which branch to unmerge.
> * [ ] Right click on the relation circle, then click on "delete"
> * [ ] Click on the "x" button of the Flow block in order to choose which branch to unmerge.
> * [ ] Right click on the Flow block, then click on "delete relation".

#### Quiz 15.

> [!important]
> **What does the letter "E" stand for in the PICERL incident Handling methodology?**
>
> * [ ] Entity
> * [ ] Eradication
> * [ ] Enrichment
> * [ ] Error

#### Quiz 16.

> [!important]
> **What are the three levels of data mapping hierarchy within Chronicle SOAR, from broadest to most narrow?**
>
> * [ ] Source -> Product ->Event
> * [ ] Event -> Product ->Source
> * [ ] Product -> Event ->Source
> * [ ] Source -> Event ->Product

#### Quiz 17.

> [!important]
> **What is the difference between Jobs and Connectors within Chronicle SOAR?**
>
> * [ ] Jobs are used to ingest cases into the platform. Connectors support healthcheck and synchronization tasks.
> * [ ] Connectors include tasks or actions to be performed by the playbook. Jobs notifiy if a specific action has failed at least 3 times, across all cases it was performed in.
> * [ ] Connectors are used to ingest cases into the platform. Jobs support healthcheck and synchronization tasks
> * [ ] Connectors notify regarding any Connectors error in the alert ingestion process. Jobs notify if a specific job has failed at least 3 times (sends a notification for each specific job once every 3 hours).

#### Quiz 18.

> [!important]
> **What kind of playbook actions allows for a pause and delay in next steps until another action has occurred?**
>
> * [ ] All async actions
> * [ ] Entity enrichment actions.
> * [ ] Insight actions.
> * [ ] Conditional actions.

#### Quiz 19.

> [!important]
> **What does the letter "R" stands for in the PICERL incident Handling methodology?**
>
> * [ ] Risk
> * [ ] Recovery
> * [ ] Reboot
> * [ ] Recuperation

#### Quiz 20.

> [!important]
> **How would you configure a playbook so that it is automatically attached to a particular alert name?**
>
> * [ ] Product Name trigger with "Alert.Name" value
> * [ ] All trigger with "CaseName" value
> * [ ] Alert Type trigger with "CaseName" value
> * [ ] Custom trigger with "Alert.Name" value

#### Quiz 21.

> [!important]
> **What is the importance of hierarchy when defining data mapping rules in the platform?**
>
> * [ ] Lower-level data mapping transfers the rules up the hierarchy. Re-mapping is strongly advised.
> * [ ] Higher-level data mapping transfers the rules down the hierarchy. Re-mapping is strongly advised.
> * [ ] Lower-level data mapping transfers the rules up the hierarchy without the need to re-map.
> * [ ] Higher-level data mapping transfers the rules down the hierarchy without the need to re-map.

#### Quiz 22.

> [!important]
> **What key pieces of information should every analyst be able to obtain by looking at the main screen of the case? (select all that apply)**
>
> * [ ] Who is involved?
> * [ ] When did it happen?
> * [ ] Why is it happened?
> * [ ] What happened?

#### Quiz 23.

> [!important]
> **What mechanism is used to translate raw information from different product event fields into Chronicle SOAR Objects of Interest?**
>
> * [ ] Ingesting Alerts
> * [ ] Entity Enrichment
> * [ ] Mapping & Modeling
> * [ ] Alert Grouping

#### Quiz 24.

> [!important]
> **An integration must first be downloaded in order to access its corresponding connector.**
>
> * [ ] False
> * [ ] True

#### Quiz 25.

> [!important]
> **How would you use the output of an action to create a condition within a playbook?**
>
> * [ ] By specifying a particular JSON field(s) or general outcome of an action
> * [ ] By specifying Entity scope within an action or a particular JSON field(s).
> * [ ] By specifying Entity scope within an action or general outcome of an action
> * [ ] By specifying Technical details of an action or its Entity scope.

#### Quiz 26.

> [!important]
> **How can you leverage playbook automation to confirm whether a previous action ran successfully and/or returned an expected value?**
>
> * [ ] By utilizing the action conditions flow.
> * [ ] By utilizing the previous action conditions flow.
> * [ ] By utilizing the multichoice question flow.
> * [ ] By utilizing the trigger.

#### Quiz 27.

> [!important]
> **What functionalities exist within the playbook flow to allow for handling of errors when executing an action?**
>
> * [ ] Configure the rules in the Playbook blocks that will be used as a determinants for errors
> * [ ] Configure the default branch that will be used in case of an error
> * [ ] When an error occurs, the user will receive the notification and manually add another branch into the existing Playbook.
> * [ ] All of the above functionalities exist in handling errors within the Playbook.

#### Quiz 28.

> [!important]
> **How would you merge different branches of a playbook into a single branch? (select all that apply)**
>
> * [ ] Drag & drop an action from an existing branch to the beginning of the new branch.
> * [ ] Drag & drop an action from an existing branch to the end of the new branch.
> * [ ] Drag & drop an action from a new branch to the end of the existing branch.
> * [ ] Drag & drop an action from a new branch to the beginning of the existing branch.

#### Quiz 29.

> [!important]
> **Where in Chronicle SOAR can you see a full timeline visualization of the entities and objects within an event?**
>
> * [ ] Mapped events are graphically represented under the Homepage section of Chronicle SOAR.
> * [ ] Mapped events are graphically represented within each Playbook in Chronicle SOAR UI.
> * [ ] Mapped events are graphically represented under the Explore module of Chronicle SOAR.
> * [ ] Mapped events are graphically represented in the IDE section of Chronicle SOAR.

#### Quiz 30.

> [!important]
> **What logical operators can be used when creating a condition flow within a Chronicle SOAR playbook?**
>
> * [ ] Only OR operator is allowed to be used.
> * [ ] IF & ELSE
> * [ ] OR & AND
> * [ ] Only AND operator is allowed to be used.

## Your Next Steps

### Badge - [Course Badge](https://www.cloudskillsboost.google)
